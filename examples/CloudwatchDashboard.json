{
    "widgets": [
        {
            "type": "metric",
            "x": 0,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/Lex", "BotChannelRequestCount", "BotAlias", "BETA", "BotChannelName", "TexasVaccineUpdates", "BotName", "EchoVacccineSearcher", "Source", "SLACK", { "label": "Invocations" } ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "us-east-1",
                "period": 60,
                "stat": "Sum",
                "title": "Overall Chat Invocations",
                "yAxis": {
                    "left": {
                        "min": 0
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/Lex", "RuntimeRequestCount", "BotAlias", "BETA", "Operation", "PostText", "BotName", "EchoVacccineSearcher", { "label": "Intent Hits" } ],
                    [ ".", "MissedUtteranceCount", ".", ".", ".", ".", ".", ".", { "label": "Intent Misses" } ]
                ],
                "view": "timeSeries",
                "stacked": true,
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "title": "Missed Versus Hit Intents Over Time",
                "yAxis": {
                    "left": {
                        "min": 0
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/Lex", "RuntimeRequestCount", "BotAlias", "BETA", "Operation", "PostText", "BotName", "EchoVacccineSearcher", { "label": "Intent Hits" } ],
                    [ ".", "MissedUtteranceCount", ".", ".", ".", ".", ".", ".", { "label": "Intent Misses" } ]
                ],
                "view": "pie",
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "setPeriodToTimeRange": true,
                "title": "Fraction Of NLP Misses"
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/Lambda", "Errors", "FunctionName", "vaxxbot3-ExternalCrawlerEnpoint-1MDQXGBDKWLCE", { "label": "ExternalCrawlerEnpoint" } ],
                    [ "...", "vaxxbot3-HebCrawler-QM0DTP0W3E8U", { "label": "HebCrawler" } ],
                    [ "...", "vaxxbot3-PingCheckEs-1MJQEIQ2HIIPK", { "label": "PingCheckEs" } ],
                    [ "...", "vaxxbot3-PreferenceStreamHandler-1P9WWOY4CUW7B", { "label": "PreferenceStreamHandler" } ],
                    [ "...", "vaxxbot3-SeedEsIndex-1NLCYF2JJ4T31", { "label": "SeedEsIndex" } ],
                    [ "...", "vaxxbot3-SlotStreamHandler-1FSFBX4TU8L9H", { "label": "SlotStreamHandler" } ],
                    [ "...", "vaxxbot3-UserPreferenceLister-UDA3SRC4SML0", { "label": "UserPreferenceLister" } ],
                    [ "...", "vaxxbot3-UserPreferencePersister-1ONUD9AR6KS6G", { "label": "UserPreferencePersister" } ],
                    [ "...", "vaxxbot3-UserPreferenceRemover-7YHM0X8AGE3X", { "label": "UserPreferenceRemover" } ],
                    [ "...", "vaxxbot3-UserPreferenceUpdater-LWHO15EH8UXG", { "label": "UserPreferenceUpdater" } ],
                    [ "...", "vaxxbot3-UserQuestionFAQAnswerer-805LIBYQKF7R", { "label": "UserQuestionFAQAnswerer" } ],
                    [ "...", "vaxxbot3-VaccineSpotter-1QLT3TD8E4UAC", { "label": "VaccineSpotter" } ]
                ],
                "view": "timeSeries",
                "stacked": true,
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "title": "Lambda Internal Errors",
                "yAxis": {
                    "left": {
                        "min": 0
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/Lambda", "Invocations", "FunctionName", "vaxxbot3-ExternalCrawlerEnpoint-1MDQXGBDKWLCE", { "label": "ExternalCrawlerEnpoint" } ],
                    [ "...", "vaxxbot3-HebCrawler-QM0DTP0W3E8U", { "label": "HebCrawler" } ],
                    [ "...", "vaxxbot3-PingCheckEs-1MJQEIQ2HIIPK", { "label": "PingCheckEs" } ],
                    [ "...", "vaxxbot3-PreferenceStreamHandler-1P9WWOY4CUW7B", { "label": "PreferenceStreamHandler" } ],
                    [ "...", "vaxxbot3-SeedEsIndex-1NLCYF2JJ4T31", { "label": "SeedEsIndex" } ],
                    [ "...", "vaxxbot3-SlotStreamHandler-1FSFBX4TU8L9H", { "label": "SlotStreamHandler" } ],
                    [ "...", "vaxxbot3-UserPreferenceLister-UDA3SRC4SML0", { "label": "UserPreferenceLister" } ],
                    [ "...", "vaxxbot3-UserPreferencePersister-1ONUD9AR6KS6G", { "label": "UserPreferencePersister" } ],
                    [ "...", "vaxxbot3-UserPreferenceRemover-7YHM0X8AGE3X", { "label": "UserPreferenceRemover" } ],
                    [ "...", "vaxxbot3-UserPreferenceUpdater-LWHO15EH8UXG", { "label": "UserPreferenceUpdater" } ],
                    [ "...", "vaxxbot3-UserQuestionFAQAnswerer-805LIBYQKF7R", { "label": "UserQuestionFAQAnswerer" } ],
                    [ "...", "vaxxbot3-VaccineSpotter-1QLT3TD8E4UAC", { "label": "VaccineSpotter" } ]
                ],
                "view": "timeSeries",
                "stacked": true,
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "title": "System Invocations",
                "yAxis": {
                    "left": {
                        "min": 0
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/Lambda", "Invocations", "FunctionName", "vaxxbot3-UserPreferenceLister-UDA3SRC4SML0", { "label": "List Searches" } ],
                    [ "...", "vaxxbot3-UserPreferencePersister-1ONUD9AR6KS6G", { "label": "Add A Search" } ],
                    [ "...", "vaxxbot3-UserPreferenceRemover-7YHM0X8AGE3X", { "label": "Remove A Search" } ],
                    [ "...", "vaxxbot3-UserPreferenceUpdater-LWHO15EH8UXG", { "label": "Update A Search" } ],
                    [ "...", "vaxxbot3-UserQuestionFAQAnswerer-805LIBYQKF7R", { "label": "FAQ" } ]
                ],
                "view": "timeSeries",
                "stacked": true,
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "title": "Chat Invocations",
                "yAxis": {
                    "left": {
                        "min": 0
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/ES", "CPUUtilization", "DomainName", "test", "ClientId", "006297545748" ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "us-east-1",
                "stat": "Maximum",
                "period": 60,
                "title": "Elasticsearch CPU",
                "yAxis": {
                    "left": {
                        "min": 0,
                        "max": 100
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/ES", "SearchRate", "DomainName", "test", "ClientId", "006297545748" ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "yAxis": {
                    "left": {
                        "min": 0
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/ES", "IndexingLatency", "DomainName", "test", "ClientId", "006297545748", { "yAxis": "right", "period": 60 } ],
                    [ ".", "SearchLatency", ".", ".", ".", "." ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "us-east-1",
                "stat": "p95",
                "period": 300,
                "title": "Elasticsearch Latencies",
                "yAxis": {
                    "left": {
                        "min": 0
                    },
                    "right": {
                        "min": 0
                    }
                }
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ { "expression": "100*(1-m4/m3)", "label": "Intent Hit Rate", "id": "e1", "region": "us-east-1" } ],
                    [ "AWS/Lambda", "Invocations", "FunctionName", "vaxxbot3-UserPreferencePersister-1ONUD9AR6KS6G", { "id": "m1", "label": "Searches Added" } ],
                    [ "AWS/Lex", "RuntimeRequestCount", "BotAlias", "BETA", "Operation", "PostText", "BotName", "EchoVacccineSearcher", { "id": "m3", "label": "Messages To Vaxxie" } ],
                    [ ".", "MissedUtteranceCount", ".", ".", ".", ".", ".", ".", { "id": "m4", "visible": false, "label": "Missed Intents" } ],
                    [ "Vaxxie", "NotificationsSent", "BotGroupIdentifier", "EchoVacccineSearcher", { "id": "m2" } ]
                ],
                "view": "singleValue",
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "setPeriodToTimeRange": true,
                "title": "KPIs For Period"
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ { "expression": "100*(1-m2/m3)", "label": "Intent Hit Rate", "id": "e1" } ],
                    [ "AWS/Lambda", "Invocations", "FunctionName", "vaxxbot3-UserPreferencePersister-1ONUD9AR6KS6G", { "yAxis": "right", "label": "Searches Added", "id": "m1" } ],
                    [ "AWS/Lex", "MissedUtteranceCount", "BotAlias", "BETA", "Operation", "PostText", "BotName", "EchoVacccineSearcher", { "visible": false, "id": "m2" } ],
                    [ ".", "RuntimeRequestCount", ".", ".", ".", ".", ".", ".", { "visible": false, "id": "m3" } ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "us-east-1",
                "stat": "Sum",
                "period": 60,
                "yAxis": {
                    "left": {
                        "min": 0,
                        "max": 100
                    },
                    "right": {
                        "min": 0
                    }
                },
                "title": "Interaction Metrics Over Time"
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "Vaxxie", "NotificationsSent", "BotGroupIdentifier", "EchoVacccineSearcher", { "label": "Sent" } ],
                    [ ".", "NotificationsErrored", ".", ".", { "label": "Errored" } ]
                ],
                "view": "timeSeries",
                "stacked": true,
                "region": "us-east-1",
                "yAxis": {
                    "left": {
                        "min": 0
                    }
                },
                "stat": "Sum",
                "period": 60,
                "title": "Appointment Slot Notifications"
            }
        }
    ]
}
